
// basic string library


.global strcpy
strcpy:
  push r1
  \ mv r1 r9
  ld b r0 r8 ++1 
strcpy_loop:
  tstz r0
  \ st b r0 r9 ++1 
  br nz strcpy_loop
  \ ld b r0 r8 ++1 
strcpy_done:
  pop r1
  \ sub r9 r1
  mv r0 r9
  \ rtn  
  
  
.global strcmp
strcmp:
  push r1
  \ push r2 
  ld b r1 r8 ++1
  \ ld b r2 r9 ++1 
strcmp_loop:
  ld b r1 r8 ++1
  \ sub r0 r1 r2 
  br nz strcmp_done
  \ tstz r2
  br nz strcmp_loop
  \ ld b r2 r9 ++1 
strcmp_done:
  pop r2
  pop r1
  \ rtn  
